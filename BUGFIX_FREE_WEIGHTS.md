# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –°–∏—Å—Ç–µ–º—ã –°–≤–æ–±–æ–¥–Ω—ã—Ö –ì—Ä—É–∑–æ–≤

**–î–∞—Ç–∞**: 19 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ì—Ä—É–∑—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–∞ canvas

---

## üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏:

### 1. `state.freeWeights` –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
**–°–∏–º–ø—Ç–æ–º**: TypeError –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ push()  
**–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–º state  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∞ ~52):
```javascript
lastDynamometerReading: null,
freeWeights: [] // üÜï –î–æ–±–∞–≤–ª–µ–Ω–æ
```

### 2. –ì—Ä—É–∑—ã –Ω–µ —Ä–∏—Å–æ–≤–∞–ª–∏—Å—å –ø—Ä–∏ –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä–µ
**–°–∏–º–ø—Ç–æ–º**: –ì—Ä—É–∑—ã –∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä–∞  
**–ü—Ä–∏—á–∏–Ω–∞**: Early return –≤ `drawDynamic()` ‚Üí  `drawFreeWeights()` –Ω–µ –≤—ã–∑—ã–≤–∞–ª—Å—è  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∞ ~2683):
```javascript
drawDynamometerSetup(ctx) {
    // ...–∫–æ–¥ –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä–∞...
    this.drawAttachedWeights(ctx, hookX, gruzHookY);
    
    // üÜï –†–∏—Å—É–µ–º —Å–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–∑—ã
    this.drawFreeWeights(ctx);
}
```

### 3. –ì—Ä—É–∑—ã –Ω–µ —Ä–∏—Å–æ–≤–∞–ª–∏—Å—å –±–µ–∑ –ø—Ä—É–∂–∏–Ω—ã
**–°–∏–º–ø—Ç–æ–º**: –ì—Ä—É–∑—ã –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º —ç–∫—Ä–∞–Ω–µ  
**–ü—Ä–∏—á–∏–Ω–∞**: `drawSpringPlaceholder()` –Ω–µ –≤—ã–∑—ã–≤–∞–ª `drawFreeWeights()`  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∞ ~2400):
```javascript
drawSpringPlaceholder(ctx) {
    // ...–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä...
    ctx.restore();
    
    // üÜï –†–∏—Å—É–µ–º —Å–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–∑—ã
    this.drawFreeWeights(ctx);
}
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–¢–µ–ø–µ—Ä—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–∑—ã —Ä–∏—Å—É—é—Ç—Å—è **–≤—Å–µ–≥–¥–∞**:
- ‚úÖ –° –ø—Ä—É–∂–∏–Ω–æ–π
- ‚úÖ –° –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä–æ–º
- ‚úÖ –ë–µ–∑ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ placeholder)

---

## üß™ –¢–µ—Å—Ç:

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/experiments/kit2/experiment-1-spring.html

# 1. –ë–ï–ó –ü–†–£–ñ–ò–ù–´:
#    –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≥—Ä—É–∑ ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–æ–ª–µ

# 2. –° –ü–†–£–ñ–ò–ù–û–ô:
#    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä—É–∂–∏–Ω—É ‚Üí –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≥—Ä—É–∑ –≤ —Å—Ç–æ—Ä–æ–Ω—É ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–æ–ª–µ

# 3. –° –î–ò–ù–ê–ú–û–ú–ï–¢–†–û–ú:
#    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä ‚Üí –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≥—Ä—É–∑ –≤ —Å—Ç–æ—Ä–æ–Ω—É ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–æ–ª–µ
```

---

## üìù –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:

```
drawDynamic()
‚îú‚îÄ clearRect()  // –û—á–∏—Å—Ç–∫–∞
‚îú‚îÄ if (dynamometerAttached):
‚îÇ  ‚îî‚îÄ drawDynamometerSetup()
‚îÇ     ‚îú‚îÄ —Ä–∏—Å—É–µ–º –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä
‚îÇ     ‚îú‚îÄ drawAttachedWeights()
‚îÇ     ‚îî‚îÄ drawFreeWeights() ‚Üê üÜï –î–û–ë–ê–í–õ–ï–ù–û
‚îú‚îÄ if (!springAttached):
‚îÇ  ‚îî‚îÄ drawSpringPlaceholder()
‚îÇ     ‚îú‚îÄ —Ä–∏—Å—É–µ–º placeholder
‚îÇ     ‚îî‚îÄ drawFreeWeights() ‚Üê üÜï –î–û–ë–ê–í–õ–ï–ù–û
‚îî‚îÄ else:
   ‚îú‚îÄ —Ä–∏—Å—É–µ–º –ø—Ä—É–∂–∏–Ω—É
   ‚îú‚îÄ drawAttachedWeights()
   ‚îú‚îÄ drawRuler()
   ‚îî‚îÄ drawFreeWeights() ‚Üê –£–ñ–ï –ë–´–õ–û
```

**–ü–æ—Ä—è–¥–æ–∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (Z-index):**
1. –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (–ø—Ä—É–∂–∏–Ω–∞/–¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä) - —Ñ–æ–Ω
2. –ü–æ–¥–≤–µ—à–µ–Ω–Ω—ã–µ –≥—Ä—É–∑—ã - —Å—Ä–µ–¥–Ω–∏–π —Å–ª–æ–π
3. –°–≤–æ–±–æ–¥–Ω—ã–µ –≥—Ä—É–∑—ã - –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω ‚≠ê

---

## üöÄ –°—Ç–∞—Ç—É—Å:

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û!** –ì—Ä—É–∑—ã —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–∞—Ö.

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
1. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≥—Ä—É–∑ –Ω–∞ –ø—É—Å—Ç–æ–π canvas ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≥—Ä—É–∑ ‚Üí –∫—É—Ä—Å–æ—Ä grab ‚úã
3. –¢–∞—â–∏—Ç–µ –≥—Ä—É–∑ ‚Üí —Å–∏–Ω—è—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ üîµ
4. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫ –ø—Ä—É–∂–∏–Ω–µ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è ‚úÖ

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏!
