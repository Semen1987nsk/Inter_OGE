# üêõ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–î–∞—Ç–∞:** 20 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ì—Ä—É–∑ ‚Ññ3 –Ω–µ –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ –∑–µ–ª—ë–Ω–æ–º –∫—Ä—É–≥–µ, –∞ —Ç–æ–ª—å–∫–æ –Ω–∏–∂–µ –µ–≥–æ  
**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º–µ–∂–¥—É –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–ø–∞–¥–∞–Ω–∏—è  
**–§–∞–π–ª:** `experiments/kit2/experiment-1-spring.js`

---

## üîç –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –°–∏–º–ø—Ç–æ–º—ã:
- ‚úÖ –ì—Ä—É–∑ ‚Ññ1 (100–≥) –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–ø—Ä—É–∂–∏–Ω–∞ –Ω–µ —Ä–∞—Å—Ç—è–Ω—É—Ç–∞)
- ‚úÖ –ì—Ä—É–∑ ‚Ññ2 (100–≥) –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è —Ö—É–∂–µ (–ø—Ä—É–∂–∏–Ω–∞ —Ä–∞—Å—Ç—è–Ω—É—Ç–∞ –Ω–∞ 100–≥)
- ‚ùå **–ì—Ä—É–∑ ‚Ññ3 (100–≥) –ù–ï –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ –∑–µ–ª—ë–Ω–æ–º –∫—Ä—É–≥–µ** (–ø—Ä—É–∂–∏–Ω–∞ —Ä–∞—Å—Ç—è–Ω—É—Ç–∞ –Ω–∞ 200–≥)
- ‚ö†Ô∏è –ì—Ä—É–∑ –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ **–Ω–∏–∂–µ –∑–µ–ª—ë–Ω–æ–≥–æ –∫—Ä—É–≥–∞**

### –ì–∏–ø–æ—Ç–µ–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
> "–ú–æ–∂–µ—Ç —ç—Ç–æ –∏–∑ —Ç–æ–≥–æ —á—Ç–æ –ø—Ä—É–∂–∏–Ω–∞ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è??"

**‚úÖ –ê–ë–°–û–õ–Æ–¢–ù–û –í–ï–†–ù–û!** –ü—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –≤ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–∏ –ø—Ä—É–∂–∏–Ω—ã.

---

## üß™ –ü–æ—à–∞–≥–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü–æ–¥–≤–µ—à–∏–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≥—Ä—É–∑ (100–≥)
```
springNaturalLength = 140px (—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è)
visual.scale = 1.0
–ö—Ä—é—á–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ: 140 √ó 1.0 = 140px ‚úÖ
–ö—Ä—é—á–æ–∫ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ: 140px ‚úÖ
–°–û–í–ü–ê–î–ï–ù–ò–ï ‚Üí –ì—Ä—É–∑ –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ!
```

### –®–∞–≥ 2: –ü–æ–¥–≤–µ—à–∏–≤–∞–µ–º –≤—Ç–æ—Ä–æ–π –≥—Ä—É–∑ (100–≥)
```
–ü—Ä—É–∂–∏–Ω–∞ —Ä–∞—Å—Ç—è–Ω—É–ª–∞—Å—å: springLength = 170px
visual.scale = ~0.95 (—á—Ç–æ–±—ã —É–º–µ—Å—Ç–∏—Ç—å)
–ö—Ä—é—á–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ: 170 √ó 0.95 = 161.5px ‚úÖ
–ö—Ä—é—á–æ–∫ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ: 170px ‚ùå
–†–ê–°–•–û–ñ–î–ï–ù–ò–ï: 8.5px ‚Üí –ó–∞–º–µ—Ç–Ω–æ, –Ω–æ –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –®–∞–≥ 3: –ü–æ–¥–≤–µ—à–∏–≤–∞–µ–º —Ç—Ä–µ—Ç–∏–π –≥—Ä—É–∑ (100–≥)
```
–ü—Ä—É–∂–∏–Ω–∞ —Ä–∞—Å—Ç—è–Ω—É–ª–∞—Å—å: springLength = 200px
visual.scale = ~0.80 (—á—Ç–æ–±—ã —É–º–µ—Å—Ç–∏—Ç—å)
–ö—Ä—é—á–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ: 200 √ó 0.80 = 160px ‚úÖ
–ö—Ä—é—á–æ–∫ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ: 200px ‚ùå
–†–ê–°–•–û–ñ–î–ï–ù–ò–ï: 40px! üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï
```

**–í—ã–≤–æ–¥:** –ß–µ–º –±–æ–ª—å—à–µ —Ä–∞—Å—Ç—è–Ω—É—Ç–∞ –ø—Ä—É–∂–∏–Ω–∞, —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–µ–º –±–æ–ª—å—à–µ –æ—à–∏–±–∫–∞!

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –°–ò–°–¢–ï–ú–ê –ö–û–û–†–î–ò–ù–ê–¢ –ü–†–£–ñ–ò–ù–´                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                      ‚îÇ
‚îÇ  1. –§–ò–ó–ò–ß–ï–°–ö–ò–ï –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (state.springLength)     ‚îÇ
‚îÇ     - –†–µ–∞–ª—å–Ω–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞ –ø—Ä—É–∂–∏–Ω—ã –≤ –ø–∏–∫—Å–µ–ª—è—Ö ‚îÇ
‚îÇ     - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ canvas                  ‚îÇ
‚îÇ     - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á—ë—Ç–∞—Ö            ‚îÇ
‚îÇ                                                      ‚îÇ
‚îÇ  2. –í–ò–ó–£–ê–õ–¨–ù–´–ï –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (getVisualLength())      ‚îÇ
‚îÇ     - –§–∏–∑–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞ √ó visual.scale               ‚îÇ
‚îÇ     - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø–æ–º–µ—â–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ        ‚îÇ
‚îÇ     - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏                    ‚îÇ
‚îÇ                                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–¥ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–ü–†–ê–í–ò–õ–¨–ù–´–ô):

**–§–∞–π–ª:** `drawDynamic()`, —Å—Ç—Ä–æ–∫–∏ ~2453-2492

```javascript
// –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç getVisualLength()
const anchor = this.getSpringAnchor();
const physicalLength = this.state.springLength || this.state.springNaturalLength;
const length = this.getVisualLength(physicalLength); // ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ!

// –†–∏—Å—É–µ–º –∫—Ä—é—á–æ–∫
this.drawBottomHook(ctx, anchor.x, anchor.y + length, wireRadius);

// –ó–µ–ª—ë–Ω—ã–π –∫—Ä—É–≥ –ø–æ–ø–∞–¥–∞–Ω–∏—è
const springBottomHookY = anchor.y + length; // ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
ctx.arc(springBottomHookX, springBottomHookY, 100, 0, Math.PI * 2);
```

### –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ø–∞–¥–∞–Ω–∏—è (–ë–´–õ–û –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):

**–§–∞–π–ª:** `handleWeightDrop()`, —Å—Ç—Ä–æ–∫–∏ ~1406-1410

```javascript
// ‚ùå –°–¢–ê–†–´–ô –ö–û–î (–ë–ê–ì!)
const springLength = this.state.springLength || this.state.springNaturalLength;
const hookX = springPos.x;
const hookY = springPos.y + springLength; // ‚ùå –§–∏–∑–∏—á–µ—Å–∫–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞!

const distanceToSpring = Math.hypot(canvasX - hookX, canvasY - hookY);
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: `hookY = springPos.y + (springLength √ó visual.scale)` ‚úÖ
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `hookY = springPos.y + springLength` ‚ùå
- **–ù–ï –°–û–í–ü–ê–î–ê–Æ–¢!**

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏:

**–°—Ç—Ä–æ–∫–∏:** ~1406-1432

```javascript
if (this.state.springAttached) {
    const springPos = this.state.springPosition;
    const physicalLength = this.state.springLength || this.state.springNaturalLength;
    // üîß CRITICAL FIX: –ò—Å–ø–æ–ª—å–∑—É–µ–º –í–ò–ó–£–ê–õ–¨–ù–£–Æ –¥–ª–∏–Ω—É, –∫–∞–∫ –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏!
    const visualLength = this.getVisualLength(physicalLength);
    const hookX = springPos.x;
    const hookY = springPos.y + visualLength; // ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∫—Ä—é—á–∫–∞
    
    const distanceToSpring = Math.hypot(canvasX - hookX, canvasY - hookY);
    
    console.log('[ATTACH-WEIGHT] Check spring drop:', {
        canvasPos: [canvasX.toFixed(1), canvasY.toFixed(1)],
        springHook: [hookX.toFixed(1), hookY.toFixed(1)],
        physicalLength: physicalLength.toFixed(1),
        visualLength: visualLength.toFixed(1),
        visualScale: this.visual.scale.toFixed(2),
        distance: distanceToSpring.toFixed(1),
        threshold: 100
    });
    
    if (distanceToSpring < 100) {
        shouldAttachDirectly = true;
        attachmentTarget = 'spring';
    }
}
```

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–î–æ–±–∞–≤–ª–µ–Ω–æ:** `const visualLength = this.getVisualLength(physicalLength);`
   - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –¥–ª–∏–Ω—É –≤ –≤–∏–∑—É–∞–ª—å–Ω—É—é —á–µ—Ä–µ–∑ –º–∞—Å—à—Ç–∞–±

2. **–ò–∑–º–µ–Ω–µ–Ω–æ:** `const hookY = springPos.y + visualLength;`
   - –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π

3. **–†–∞—Å—à–∏—Ä–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - `physicalLength` - —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
   - `visualLength` - –≤–∏–∑—É–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞—Å—á—ë—Ç–µ)
   - `visualScale` - —Ç–µ–∫—É—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π: 3 –≥—Ä—É–∑–∞ –ø–æ 100–≥ –ø–æ–¥–≤–µ—à–µ–Ω—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚ùå | –ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ |
|----------|------------------|---------------------|
| **–§–∏–∑–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞** | 200px | 200px |
| **Visual scale** | 0.80 | 0.80 |
| **–ö—Ä—é—á–æ–∫ (–≤–∏–∑—É–∞–ª)** | 200 √ó 0.80 = 160px | 200 √ó 0.80 = 160px |
| **–ö—Ä—é—á–æ–∫ (–ø—Ä–æ–≤–µ—Ä–∫–∞)** | 200px ‚ùå | 160px ‚úÖ |
| **–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ** | 40px üî¥ | 0px ‚úÖ |
| **–ó–µ–ª—ë–Ω—ã–π –∫—Ä—É–≥ –Ω–∞** | Y=160 | Y=160 |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—â–µ—Ç –Ω–∞** | Y=200 ‚ùå | Y=160 ‚úÖ |
| **–†–µ–∑—É–ª—å—Ç–∞—Ç** | –ì—Ä—É–∑ –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –Ω–∏–∂–µ –∫—Ä—É–≥–∞ | –ì—Ä—É–∑ –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ –∫—Ä—É–≥–µ! |

---

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç-–∫–µ–π—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä—É–∂–∏–Ω—É
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –ì—Ä—É–∑ ‚Ññ1 –∫ –∑–µ–ª—ë–Ω–æ–º—É –∫—Ä—É–≥—É
   - ‚úÖ –î–æ–ª–∂–µ–Ω –ø–æ–¥–≤–µ—Å–∏—Ç—å—Å—è –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –≤ –∫—Ä—É–≥

2. **–†–µ–≥—Ä–µ—Å—Å–∏—è - –ø–µ—Ä–≤—ã–π –≥—Ä—É–∑:**
   - –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç —Å –≥—Ä—É–∑–æ–º ‚Ññ1
   - ‚úÖ –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ (–±–µ–∑ —É—Ö—É–¥—à–µ–Ω–∏—è)

3. **–û—Å–Ω–æ–≤–Ω–æ–π –∫–µ–π—Å - —Ç—Ä–µ—Ç–∏–π –≥—Ä—É–∑:**
   - –ü–æ–¥–≤–µ—Å–∏—Ç—å –ì—Ä—É–∑ ‚Ññ1
   - –ü–æ–¥–≤–µ—Å–∏—Ç—å –ì—Ä—É–∑ ‚Ññ2
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –ì—Ä—É–∑ ‚Ññ3 –∫ –∑–µ–ª—ë–Ω–æ–º—É –∫—Ä—É–≥—É
   - ‚úÖ **–î–æ–ª–∂–µ–Ω –ø–æ–¥–≤–µ—Å–∏—Ç—å—Å—è –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –≤ –∫—Ä—É–≥** (—ç—Ç–æ –±—ã–ª–æ —Å–ª–æ–º–∞–Ω–æ!)

4. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:**
   - –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–¥–≤–µ—Å–∏—Ç—å –≥—Ä—É–∑ –Ω–∞ –∫—Ä–∞—é –∑–µ–ª—ë–Ω–æ–≥–æ –∫—Ä—É–≥–∞ (r=100px)
   - ‚úÖ –î–æ–ª–∂–µ–Ω –ø–æ–¥–≤–µ—à–∏–≤–∞—Ç—å—Å—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ
   - ‚ùå –ù–µ –¥–æ–ª–∂–µ–Ω –ø–æ–¥–≤–µ—à–∏–≤–∞—Ç—å—Å—è –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π

5. **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Console
   - –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ `[ATTACH-WEIGHT]`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ:
     - `physicalLength` ‚â† `visualLength` (–∫–æ–≥–¥–∞ –ø—Ä—É–∂–∏–Ω–∞ —Ä–∞—Å—Ç—è–Ω—É—Ç–∞)
     - `springHook` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ü–µ–Ω—Ç—Ä–æ–º –∑–µ–ª—ë–Ω–æ–≥–æ –∫—Ä—É–≥–∞
     - `distance` < 100 –∫–æ–≥–¥–∞ –≥—Ä—É–∑ –≤ –∫—Ä—É–≥–µ

### –û–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏:

```
[ATTACH-WEIGHT] Check spring drop: {
    canvasPos: [260.0, 220.0],
    springHook: [260.0, 160.0],  ‚Üê –í–∏–∑—É–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
    physicalLength: 200.0,        ‚Üê –§–∏–∑–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞
    visualLength: 160.0,          ‚Üê –í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ (200 √ó 0.8)
    visualScale: 0.80,            ‚Üê –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
    distance: 60.0,               ‚Üê –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –∫—Ä—é—á–∫–∞
    threshold: 100                ‚Üê –†–∞–¥–∏—É—Å –∑–∞—Ö–≤–∞—Ç–∞
}
```

---

## üéØ –ü–æ—á–µ–º—É —ç—Ç–æ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ –Ω–∞–π—Ç–∏?

### –§–∞–∫—Ç–æ—Ä—ã, –∑–∞—Ç—Ä—É–¥–Ω—è–≤—à–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:

1. **–ù–µ—è–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - `visual.scale` –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–∏
   - –ù–µ –æ—á–µ–≤–∏–¥–Ω–æ —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ä–∞–∑–Ω—ã–µ

2. **–ü–µ—Ä–≤—ã–π –≥—Ä—É–∑ —Ä–∞–±–æ—Ç–∞–ª:**
   - –ö–æ–≥–¥–∞ –ø—Ä—É–∂–∏–Ω–∞ –Ω–µ —Ä–∞—Å—Ç—è–Ω—É—Ç–∞: scale ‚âà 1.0
   - –í–∏–∑—É–∞–ª—å–Ω—ã–µ ‚âà —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
   - –ë–∞–≥ –Ω–µ –ø—Ä–æ—è–≤–ª—è–ª—Å—è!

3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É—Ö—É–¥—à–µ–Ω–∏–µ:**
   - –í—Ç–æ—Ä–æ–π –≥—Ä—É–∑: –Ω–µ–±–æ–ª—å—à–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ (~8px)
   - –¢—Ä–µ—Ç–∏–π –≥—Ä—É–∑: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ (~40px)
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ —á—Ç–æ "—Ç—Ä–µ—Ç–∏–π –≥—Ä—É–∑ –æ—Å–æ–±–µ–Ω–Ω—ã–π"

4. **–î–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∫–æ–¥–∞:**
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ `drawDynamic()`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ `handleWeightDrop()`
   - –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å

---

## üõ°Ô∏è –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–¥–æ–±–Ω—ã—Ö –±–∞–≥–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

1. **–ï–¥–∏–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫—Ä—é—á–∫–∞:**
   ```javascript
   getSpringHookPosition() {
       const anchor = this.getSpringAnchor();
       const visualLength = this.getVisualLength();
       return {
           x: anchor.x,
           y: anchor.y + visualLength
       };
   }
   ```
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–ï–ó–î–ï: –≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ò –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ

2. **–¢–µ—Å—Ç—ã –Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:**
   ```javascript
   // Unit test
   test('hook position matches in draw and check', () => {
       const drawHook = getHookPosInDrawing();
       const checkHook = getHookPosInCheck();
       expect(drawHook).toEqual(checkHook);
   });
   ```

3. **Visual debug mode:**
   - –†–∏—Å–æ–≤–∞—Ç—å –∫—Ä–∞—Å–Ω—É—é —Ç–æ—á–∫—É –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –†–∏—Å–æ–≤–∞—Ç—å –∑–µ–ª—ë–Ω—É—é —Ç–æ—á–∫—É –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
   - –ï—Å–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚Üí –≤–∏–¥–Ω–æ —Å—Ä–∞–∑—É!

4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:**
   - JSDoc —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º "physical" vs "visual"
   - TypeScript —Ç–∏–ø—ã: `PhysicalCoord` vs `VisualCoord`

---

## üìù –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
‚úÖ `handleWeightDrop()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è –Ω–∞ –ø—Ä—É–∂–∏–Ω—É

### –ù–ï —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ `drawDynamic()` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–±—ã–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ `getVisualLength()` - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
- ‚úÖ `updateVisualScale()` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (OK)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–Ω–∞–º–æ–º–µ—Ç—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è)

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–ì—Ä—É–∑ ‚Ññ1: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
–ì—Ä—É–∑ ‚Ññ2: ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ç—Ä—É–¥–æ–º  
–ì—Ä—É–∑ ‚Ññ3: ‚ùå –ù–ï –ø–æ–¥–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –≤ –∑–µ–ª—ë–Ω–æ–º –∫—Ä—É–≥–µ
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–ì—Ä—É–∑ ‚Ññ1: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
–ì—Ä—É–∑ ‚Ññ2: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
–ì—Ä—É–∑ ‚Ññ3: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
```

---

## üìö –£—Ä–æ–∫–∏

1. ‚úÖ **–°–ª—É—à–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –¥–æ–≥–∞–¥–∫–∞ –ø—Ä–æ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ –ø—Ä—É–∂–∏–Ω—ã –±—ã–ª–∞ –∫–ª—é—á–æ–º –∫ —Ä–µ—à–µ–Ω–∏—é
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –≤–∏–∑—É–∞–ª –∏ –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
3. ‚úÖ **–õ–æ–≥–∏—Ä—É–π—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** - –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –ø–æ–º–æ–≥—É—Ç –≤ –±—É–¥—É—â–µ–π –æ—Ç–ª–∞–¥–∫–µ
4. ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏** - –ø–µ—Ä–≤—ã–π –≥—Ä—É–∑ —Å–∫—Ä—ã–≤–∞–ª –±–∞–≥, —Ç—Ä–µ—Ç–∏–π –µ–≥–æ –ø–æ–∫–∞–∑–∞–ª

---

**–í—Ä–µ–º—è –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:** ~15 –º–∏–Ω—É—Ç (–∞–Ω–∞–ª–∏–∑ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º)  
**–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ~5 –º–∏–Ω—É—Ç  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ HIGH (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ —Ä–∞–±–æ—Ç–∞–ª)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û, –≥–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** GitHub Copilot  
**–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞ –Ω–∞–≤–æ–¥—è—â—É—é –≥–∏–ø–æ—Ç–µ–∑—É –ø—Ä–æ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ –ø—Ä—É–∂–∏–Ω—ã üéØ
